import { Meta, Story, Canvas } from "@storybook/addon-docs/blocks";
import * as DiscountBadgeStories from "./discount-badge.component.stories";

<Meta of={DiscountBadgeStories} />

# Discount Badge

A reusable UI component for displaying discount information (percentage or fixed amount) in a badge
format.

<Canvas of={DiscountBadgeStories.PercentDiscount} />

## Usage

The discount badge component is designed to be used in billing and subscription interfaces to
display discount information.

```ts
import { DiscountBadgeComponent, Discount } from "@bitwarden/pricing";
```

```html
<billing-discount-badge [discount]="discount"></billing-discount-badge>
```

## API

### Inputs

| Input      | Type       | Description                                                                                                         |
| ---------- | ---------- | ------------------------------------------------------------------------------------------------------------------- |
| `discount` | `Discount` | **Required.** Information about the discount. If the discount is inactive or has a value of 0, the badge is hidden. |

### Discount Type

The `Discount` type is a discriminated union that represents either a percentage or fixed amount
discount:

```ts
type AmountOff = {
  _tag: "amount-off";
  value: number;
};

type PercentOff = {
  _tag: "percent-off";
  value: number;
};

type Discount = {
  active: boolean;
} & (AmountOff | PercentOff);
```

## Behavior

- The badge is only displayed when `discount.active` is `true` and `discount.value` is greater
  than 0.
- Use `_tag: "percent-off"` for percentage discounts and `_tag: "amount-off"` for fixed amount
  discounts.
- Percentage values can be provided as 0-100 (e.g., `20` for 20%) or 0-1 (e.g., `0.2` for 20%).
- Amount values are formatted as currency (USD) with 2 decimal places.

## Examples

### Percentage Discount

<Canvas of={DiscountBadgeStories.PercentDiscount} />

### Amount Discount

<Canvas of={DiscountBadgeStories.AmountDiscount} />

### Inactive Discount

<Canvas of={DiscountBadgeStories.InactiveDiscount} />
