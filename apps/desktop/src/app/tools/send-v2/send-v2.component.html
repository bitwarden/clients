<div id="sends" class="vault">
  <div id="items" class="items">
    <div class="content">
      @if (filteredSends().length) {
        <div class="list full-height">
          @for (s of filteredSends(); track s.id) {
            <button
              type="button"
              appStopClick
              (click)="selectSend(s.id)"
              title="{{ 'viewItem' | i18n }}"
              (contextmenu)="viewSendMenu(s)"
              [class.active]="s.id === sendId()"
              [attr.aria-pressed]="s.id === sendId()"
              class="flex-list-item"
            >
              <span class="item-icon" aria-hidden="true">
                <i
                  class="bwi bwi-fw bwi-lg"
                  [class]="s.type === sendType.Text ? 'bwi-file-text' : 'bwi-file'"
                ></i>
              </span>
              <span class="item-content">
                <span class="item-title">
                  {{ s.name }}
                  <span class="title-badges">
                    @if (s.disabled) {
                      <i
                        class="bwi bwi-exclamation-triangle"
                        appStopProp
                        title="{{ 'disabled' | i18n }}"
                        aria-hidden="true"
                      ></i>
                      <span class="sr-only">{{ "disabled" | i18n }}</span>
                    }
                    @if (s.password) {
                      <i
                        class="bwi bwi-key"
                        appStopProp
                        title="{{ 'password' | i18n }}"
                        aria-hidden="true"
                      ></i>
                      <span class="sr-only">{{ "password" | i18n }}</span>
                    }
                    @if (s.maxAccessCountReached) {
                      <i
                        class="bwi bwi-exclamation-triangle"
                        appStopProp
                        title="{{ 'maxAccessCountReached' | i18n }}"
                        aria-hidden="true"
                      ></i>
                      <span class="sr-only">{{ "maxAccessCountReached" | i18n }}</span>
                    }
                    @if (s.expired) {
                      <i
                        class="bwi bwi-clock"
                        appStopProp
                        title="{{ 'expired' | i18n }}"
                        aria-hidden="true"
                      ></i>
                      <span class="sr-only">{{ "expired" | i18n }}</span>
                    }
                    @if (s.pendingDelete) {
                      <i
                        class="bwi bwi-trash"
                        appStopProp
                        title="{{ 'pendingDeletion' | i18n }}"
                        aria-hidden="true"
                      ></i>
                      <span class="sr-only">{{ "pendingDeletion" | i18n }}</span>
                    }
                  </span>
                </span>
                <span class="item-details">{{ s.deletionDate | date }}</span>
              </span>
            </button>
          }
        </div>
      }
      @if (!filteredSends().length) {
        <div class="no-items">
          @if (!loaded()) {
            <i class="bwi bwi-spinner bwi-spin bwi-3x" aria-hidden="true"></i>
          }
          @if (loaded()) {
            <img class="no-items-image" aria-hidden="true" />
            <p>{{ "noItemsInList" | i18n }}</p>
          }
        </div>
      }
      <div class="footer">
        <button
          type="button"
          (click)="addSend()"
          class="block primary"
          appA11yTitle="{{ 'addItem' | i18n }}"
        >
          <i class="bwi bwi-plus bwi-lg" aria-hidden="true"></i>
        </button>
      </div>
    </div>
  </div>
  @if (action() == "add" || action() == "edit") {
    <app-send-add-edit
      id="addEdit"
      class="details"
      [sendId]="sendId()"
      [type]="selectedSendType()"
      (onSavedSend)="savedSend($event)"
      (onCancelled)="cancel()"
      (onDeletedSend)="deletedSend()"
    ></app-send-add-edit>
  }
  @if (!action()) {
    <div class="logo">
      <div class="content">
        <div class="inner-content">
          <img class="logo-image" alt="Bitwarden" aria-hidden="true" />
        </div>
      </div>
    </div>
  }
</div>
