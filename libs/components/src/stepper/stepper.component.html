@if (orientation === "horizontal") {
  <div role="tablist">
    <div class="tw-flex tw-gap-8 tw-justify-between">
      @for (step of steps; track $index; let isLast = $last) {
        <button
          type="button"
          [disabled]="isStepDisabled($index)"
          (click)="selectStepByIndex($index)"
          class="tw-flex tw-p-3 tw-items-center tw-border-none tw-bg-transparent tw-shrink-0"
          [ngClass]="{
            'hover:tw-bg-secondary-100': !disabled && step.editable,
          }"
          [attr.aria-selected]="selectedIndex === $index"
          [attr.aria-controls]="contentId"
          role="tab"
        >
          @if (!step.completed) {
            <span
              class="tw-me-3.5 tw-size-9 tw-rounded-full tw-font-bold tw-leading-9"
              [ngClass]="{
                'tw-bg-primary-600 tw-text-contrast': selectedIndex === $index,
                'tw-bg-secondary-300 tw-text-main':
                  !selectedIndex === $index && !disabled && step.editable,
                'tw-bg-transparent tw-text-muted': disabled,
              }"
            >
              {{ $index + 1 }}
            </span>
          }
          @if (step.completed) {
            <span
              class="tw-me-3.5 tw-size-9 tw-rounded-full tw-bg-primary-600 tw-font-bold tw-leading-9 tw-text-contrast"
            >
              <i class="bwi bwi-fw bwi-check" aria-hidden="true"></i>
            </span>
          }
          <div class="tw-leading-snug tw-text-left">
            <p class="tw-m-0 tw-text-main">{{ step.label }}</p>

            @if (step.subLabel()) {
              <p class="tw-m-0 tw-mt-1 tw-text-muted">{{ step.subLabel() }}</p>
            }
          </div>
        </button>
        @if (!isLast) {
          <div
            class="after:tw-left-0 after:tw-top-[50%] after:-tw-translate-y-[50%] after:tw-h-[2px] after:tw-w-full after:tw-absolute after:tw-bg-secondary-300 after:tw-content-[''] tw-relative tw-w-full"
          ></div>
        }
      }
    </div>
    @for (step of steps; track $index; let isLast = $last) {
      <div role="tabpanel" [attr.id]="contentId" [hidden]="!selected">
        @if (selectedIndex === $index) {
          <div [ngTemplateOutlet]="selected.content"></div>
        }
      </div>
    }
  </div>
} @else {
  <div role="tablist" class="tw-p-5">
    @for (step of steps; track $index; let isLast = $last) {
      <button
        type="button"
        [disabled]="isStepDisabled($index)"
        (click)="selectStepByIndex($index)"
        class="tw-flex tw-p-3 tw-w-full tw-items-center tw-border-none tw-bg-transparent"
        [ngClass]="{
          'hover:tw-bg-secondary-100': !disabled && step.editable,
        }"
        [attr.aria-selected]="selectedIndex === $index"
        [attr.aria-controls]="contentId"
        role="tab"
      >
        @if (!step.completed) {
          <span
            class="tw-me-3.5 tw-size-9 tw-rounded-full tw-font-bold tw-leading-9"
            [ngClass]="{
              'tw-bg-primary-600 tw-text-contrast': selectedIndex === $index,
              'tw-bg-secondary-300 tw-text-main':
                !selectedIndex === $index && !disabled && step.editable,
              'tw-bg-transparent tw-text-muted': disabled,
            }"
          >
            {{ $index + 1 }}
          </span>
        }
        @if (step.completed) {
          <span
            class="tw-me-3.5 tw-size-9 tw-rounded-full tw-bg-primary-600 tw-font-bold tw-leading-9 tw-text-contrast"
          >
            <i class="bwi bwi-fw bwi-check" aria-hidden="true"></i>
          </span>
        }
        <div class="tw-leading-snug tw-text-left">
          <p class="tw-m-0 tw-text-main">{{ step.label }}</p>

          @if (step.subLabel()) {
            <p class="small tw-m-0 tw-mt-1 tw-text-muted">{{ step.subLabel() }}</p>
          }
        </div>
      </button>
      <div role="tabpanel" [attr.id]="contentId" [hidden]="!selected">
        <div
          class="tw-ms-7 tw-border-solid tw-border-0 tw-border-s tw-border-secondary-300"
          [ngClass]="{ 'tw-min-h-6': !isLast }"
        >
          @if (selectedIndex === $index) {
            <div [ngTemplateOutlet]="selected.content"></div>
          }
        </div>
      </div>
    }
  </div>
}
