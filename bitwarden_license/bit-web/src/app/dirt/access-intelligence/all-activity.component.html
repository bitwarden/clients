@if (isLoading$ | async) {
  <div *ngIf="isLoading$ | async">
    <tools-risk-insights-loading></tools-risk-insights-loading>
  </div>
}

@if (!(isLoading$ | async) && (noData$ | async)) {
  <div class="tw-mt-4">
    <bit-no-items class="tw-text-main">
      <ng-container slot="title">
        <h2 class="tw-font-semibold tw-mt-4">
          {{ "noAppsInOrgTitle" | i18n: organization?.name }}
        </h2>
      </ng-container>
      <ng-container slot="description">
        <div class="tw-flex tw-flex-col tw-mb-2">
          <a class="tw-text-primary-600" routerLink="/login">{{ "learnMore" | i18n }}</a>
        </div>
      </ng-container>
    </bit-no-items>
  </div>
}

@if (!(isLoading$ | async) && !(noData$ | async)) {
  <!-- section 1 -->
  <div class="tw-grid tw-gap-2 tw-grid-cols-3">
    <div class="tw-col-span-1">
      <dirt-activity-card
        [title]="'atRiskMembers'"
        [value]="atRiskMemberCount"
        [cardMetrics]="'membersAtRisk'"
        [metricDescription]="'membersAtRiskActivityDescription'"
      ></dirt-activity-card>
    </div>
    <dirt-password-change-metric class="tw-col-span-2"></dirt-password-change-metric>

    <div class="tw-col-span-1">
      <dirt-activity-card
        [title]="'atRiskMembers'"
        [value]="atRiskMemberCount"
        [cardMetrics]="'membersAtRisk'"
        [metricDescription]="'membersAtRiskActivityDescription'"
      ></dirt-activity-card>
    </div>

    <div class="tw-col-span-1">
      <dirt-activity-card
        #allAppsOrgAtRiskApplications
        [title]="'criticalApplications'"
        [value]="criticalApplicationsCount"
        [cardMetrics]="'countOfCriticalApplications'"
        [metricDescription]="'criticalApplicationsActivityDescription'"
      >
      </dirt-activity-card>
    </div>
  </div>
}
