<app-header>
  <bit-search
    [formControl]="searchControl"
    [placeholder]="'searchMembers' | i18n"
    class="tw-grow"
  ></bit-search>

  <button type="button" bitButton buttonType="primary" [bitAction]="exportReportAction">
    <span>{{ "export" | i18n }}</span>
    <i class="bwi bwi-fw bwi-sign-in" aria-hidden="true"></i>
  </button>
</app-header>

<div class="tw-max-w-4xl">
  <p bitTypography="body1">
    {{ "memberAccessReportPageDesc" | i18n }}
  </p>
</div>

<bit-table-scroll
  [dataSource]="dataSource"
  [rowSize]="53"
  class="tw-table tw-w-full table-hover table-list"
>
  <ng-container header>
    <tr>
      <th bitCell bitSortable="name" default>{{ "members" | i18n }}</th>
      <th bitCell bitSortable="groupsCount">{{ "groups" | i18n }}</th>
      <th bitCell bitSortable="collectionsCount">{{ "collections" | i18n }}</th>
      <th bitCell bitSortable="itemsCount">{{ "items" | i18n }}</th>
    </tr>
  </ng-container>
  <ng-template bitRowDef let-row>
    <td bitCell>
      <div class="tw-flex tw-items-center">
        <bit-avatar size="small" [text]="row.name" class="tw-mr-3"></bit-avatar>
        <div class="tw-flex tw-flex-col">
          <button type="button" bitLink (click)="edit(row)">
            {{ row.name }}
          </button>

          <div class="tw-text-sm tw-mt-1 tw-text-muted">
            {{ row.email }}
          </div>
        </div>
      </div>
    </td>
    <td bitCell class="tw-text-muted tw-w-[278px] tw-p-4">{{ row.groupsCount }}</td>
    <td bitCell class="tw-text-muted tw-w-[278px] tw-p-4">{{ row.collectionsCount }}</td>
    <td bitCell class="tw-text-muted tw-w-[278px] tw-p-4">{{ row.itemsCount }}</td>
  </ng-template>
</bit-table-scroll>
