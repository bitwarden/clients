@let showLoadingStyles = showLoadingStyle();
@let leadIcon = startIcon();
@let tailIcon = endIcon();

<ng-template #buttonContent>
  <ng-content></ng-content>
</ng-template>

<span class="tw-relative">
  <span [class.tw-invisible]="showLoadingStyles">
    @if (leadIcon || tailIcon) {
      <div class="tw-flex tw-items-center tw-gap-2">
        @if (leadIcon) {
          <i class="{{ startIconClasses() }}"></i>
        }
        <div>
          <ng-container *ngTemplateOutlet="buttonContent"></ng-container>
        </div>
        @if (tailIcon) {
          <i class="{{ endIconClasses() }}"></i>
        }
      </div>
    } @else {
      <div>
        <ng-container *ngTemplateOutlet="buttonContent"></ng-container>
      </div>
    }
  </span>
  @if (showLoadingStyles) {
    <span class="tw-absolute tw-inset-0 tw-flex tw-items-center tw-justify-center">
      <bit-spinner size="fill" noColor></bit-spinner>
    </span>
  }
</span>
