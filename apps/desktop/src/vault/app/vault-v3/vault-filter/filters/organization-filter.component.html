@if (show()) {
  @for (organization of organizations().children ?? []; track organization.node.id) {
    @if (getOrgCollections(organization.node.id)?.children?.length > 0) {
      <bit-nav-group
        [icon]="organization.node.icon"
        [class.active]="organization.node.id === activeFilter()?.organizationId"
        [text]="organization.node.name"
        variant="tree"
        [appA11yTitle]="organization.node.name"
        (click)="applyFilter(organization)"
      >
        @if (!hideCollections() && collections() != null) {
          @for (c of getOrgCollections(organization.node.id)?.children ?? []; track c.node.id) {
            <app-collection-filter [activeFilter]="activeFilter()" [collection]="c" />
          }
        }
      </bit-nav-group>
    } @else {
      <bit-nav-item
        [icon]="organization.node.icon"
        [class.active]="organization.node.id === activeFilter()?.organizationId"
        [text]="organization.node.name"
        variant="tree"
        [appA11yTitle]="organization.node.name"
        (click)="applyFilter(organization)"
      />
    }
    @if (!organization.node.enabled) {
      <span class="tw-ml-auto">
        <i
          class="bwi bwi-fw bwi-exclamation-triangle text-danger mr-auto"
          attr.aria-label="{{ 'organizationIsDisabled' | i18n }}"
          appA11yTitle="{{ 'organizationIsDisabled' | i18n }}"
        ></i>
      </span>
    }
  }
}
