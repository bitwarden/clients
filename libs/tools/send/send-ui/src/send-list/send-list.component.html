<!-- Loading state -->
@if (loading()) {
  <div class="tw-my-4 tw-px-4">
    <i
      class="bwi bwi-spinner bwi-spin tw-text-muted"
      title="{{ 'loading' | i18n }}"
      aria-hidden="true"
    ></i>
    <span class="tw-sr-only">{{ "loading" | i18n }}</span>
  </div>
}

<!-- Search bar - always visible when not loading -->
@if (!loading()) {
  <div class="tw-my-4 tw-px-4">
    <tools-send-search></tools-send-search>
  </div>
}

<!-- Empty state: No sends exist -->
@if (!loading() && listState() === sendListState.Empty) {
  <div class="tw-px-4">
    <bit-no-items [icon]="noItemIcon" class="tw-text-main">
      <ng-container slot="title">{{ "sendsTitleNoItems" | i18n }}</ng-container>
      <ng-container slot="description">{{ "sendsBodyNoItems" | i18n }}</ng-container>
    </bit-no-items>
  </div>
}

<!-- No results state: Filter/search returned nothing -->
@if (!loading() && listState() === sendListState.NoResults) {
  <div class="tw-px-4">
    <bit-no-items [icon]="noResultsIcon">
      <ng-container slot="title">{{ "noItemsMatchSearch" | i18n }}</ng-container>
      <ng-container slot="description">{{ "clearFiltersOrTryAnother" | i18n }}</ng-container>
    </bit-no-items>
  </div>
}

<!-- Normal state: Display table -->
@if (!loading() && listState() === null) {
  <div class="tw-px-4">
    <tools-send-table
      [dataSource]="dataSource()"
      [disableSend]="disableSend()"
      (editSend)="onEditSend($event)"
      (copySend)="onCopySend($event)"
      (removePassword)="onRemovePassword($event)"
      (deleteSend)="onDeleteSend($event)"
    />
  </div>
}
